{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-hot-toast\";\nconst initialState = {\n  cart: [],\n  wish: [],\n  cartItems: [],\n  quantity: 0,\n  amount: 0\n};\nconst ShoppingCart = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    AddCart: (state, action) => {\n      const find = state.cart.findIndex(item => item.id === action.payload.id);\n      if (find >= 0) {\n        state.cart[find].quantity += 1;\n      } else {\n        const tempvar = {\n          ...action.payload,\n          quantity: 1\n        };\n        state.cart.push(tempvar);\n      }\n      ;\n    },\n    removeCart(state, action) {\n      const nextCartItems = state.cart.filter(cartItem => cartItem.id !== action.payload.id);\n      state.cart = nextCartItems;\n    },\n    AddWishlist: (state, action) => {\n      const val = state.wish.findIndex(item => item.id === action.payload.id);\n      if (val >= 0) {\n        state.wish[val].quantity += 1;\n      } else {\n        const temp = {\n          ...action.payload,\n          quantity: 1\n        };\n        state.wish.push(temp);\n      }\n      ;\n    },\n    removeWishlist(state, action) {\n      const nextWishItems = state.wish.filter(cartItem => cartItem.id !== action.payload.id);\n      state.wish = nextWishItems;\n    },\n    decreaseCart(state, action) {\n      const itemIndex = state.cart.findIndex(carts => carts.id === action.payload.id);\n      if (state.cart[itemIndex].quantity > 1) {\n        state.cart[itemIndex].quantity -= 1;\n      } else if (state.cart[itemIndex].quantity === 1) {\n        const nextCartItems = state.cart.filter(carts => carts.id !== action.payload.id);\n        state.cart = nextCartItems;\n        toast.success(\"Item Removed!\");\n      }\n    },\n    clearCart(state, action) {\n      state.cart = [];\n      state.amount = 0;\n      // toast.success(\"Cart Is Empty!\")\n    },\n\n    getTotals(state, action) {\n      let {\n        total,\n        totalQuantity\n      } = state.cart.reduce((cartTotal, carts) => {\n        const {\n          price,\n          quantity\n        } = carts;\n        const itemTotal = price * quantity;\n        cartTotal.total += itemTotal;\n        cartTotal.totalQuantity += quantity;\n        return cartTotal;\n      }, {\n        total: 0,\n        totalQuantity: 0\n      });\n      state.quantity = totalQuantity;\n      state.amount = total;\n    }\n  }\n});\nexport const {\n  AddCart,\n  removeCart,\n  AddWishlist,\n  removeWishlist,\n  decreaseCart,\n  clearCart,\n  getTotals\n} = ShoppingCart.actions;\nexport default ShoppingCart.reducer;","map":{"version":3,"names":["createSlice","toast","initialState","cart","wish","cartItems","quantity","amount","ShoppingCart","name","reducers","AddCart","state","action","find","findIndex","item","id","payload","tempvar","push","removeCart","nextCartItems","filter","cartItem","AddWishlist","val","temp","removeWishlist","nextWishItems","decreaseCart","itemIndex","carts","success","clearCart","getTotals","total","totalQuantity","reduce","cartTotal","price","itemTotal","actions","reducer"],"sources":["C:/Users/Unmesh/Desktop/Github_project/Zomato-Clone-master/Zomato-Clone-master/src/components/redux/ShoppingCart.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-hot-toast\";\n\nconst initialState = {\n    cart: [],\n    wish: [],\n    cartItems: [],\n    quantity: 0,\n    amount: 0,\n}\n\nconst ShoppingCart = createSlice({\n    name: \"user\",\n    initialState,\n    reducers:{\n        AddCart: (state, action) =>{\n            const find = state.cart.findIndex((item)=> item.id === action.payload.id);\n            if(find >= 0){\n                state.cart[find].quantity+=1;\n            }else{\n                const tempvar = {...action.payload, quantity:1}\n                state.cart.push(tempvar);\n            };\n        },\n        removeCart(state, action){\n           const nextCartItems =  state.cart.filter(\n                (cartItem) => cartItem.id !== action.payload.id\n            );\n            state.cart = nextCartItems;\n        },\n        AddWishlist: (state, action) =>{\n            const val = state.wish.findIndex((item)=> item.id === action.payload.id);\n            if(val >= 0){\n                state.wish[val].quantity+=1;\n            }else{\n                const temp = {...action.payload, quantity:1}\n                state.wish.push(temp);\n            };\n        },\n        removeWishlist(state, action){\n            const nextWishItems =  state.wish.filter(\n                 (cartItem) => cartItem.id !== action.payload.id\n             );\n             state.wish = nextWishItems;\n        },\n        decreaseCart(state, action){\n            const itemIndex = state.cart.findIndex(\n                carts => carts.id === action.payload.id\n            )\n            if(state.cart[itemIndex].quantity > 1){\n                state.cart[itemIndex].quantity -= 1\n            }else if(state.cart[itemIndex].quantity === 1){\n                const nextCartItems =  state.cart.filter(\n                    (carts) => carts.id !== action.payload.id\n                );\n                state.cart = nextCartItems;\n                toast.success(\"Item Removed!\")\n            }\n        },\n        clearCart(state, action){\n            state.cart = []\n            state.amount = 0;\n            // toast.success(\"Cart Is Empty!\")\n        },\n        getTotals(state, action){\n            let { total, totalQuantity } = state.cart.reduce(\n                (cartTotal, carts) => {\n                    const { price, quantity } = carts;\n                    const itemTotal = price * quantity;\n\n                    cartTotal.total += itemTotal;\n                    cartTotal.totalQuantity += quantity;\n\n                    return cartTotal;\n                },\n                {\n                    total: 0,\n                    totalQuantity: 0,\n                }\n            );\n\n            state.quantity = totalQuantity;\n            state.amount = total;\n        }\n    }\n})\n\nexport const  {AddCart, removeCart, AddWishlist, removeWishlist, decreaseCart, clearCart, getTotals} = ShoppingCart.actions;\nexport default ShoppingCart.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}