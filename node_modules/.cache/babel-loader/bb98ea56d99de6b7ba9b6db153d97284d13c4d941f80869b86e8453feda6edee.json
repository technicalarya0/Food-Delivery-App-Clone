{"ast":null,"code":"import _objectSpread from\"C:/Users/Unmesh/Desktop/Github_project/Zomato-Clone-master/Zomato-Clone-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";import{toast}from\"react-hot-toast\";var initialState={cart:[],wish:[],cartItems:[],quantity:0,amount:0};var ShoppingCart=createSlice({name:\"user\",initialState:initialState,reducers:{AddCart:function AddCart(state,action){var find=state.cart.findIndex(function(item){return item.id===action.payload.id;});if(find>=0){state.cart[find].quantity+=1;}else{var tempvar=_objectSpread(_objectSpread({},action.payload),{},{quantity:1});state.cart.push(tempvar);};},removeCart:function removeCart(state,action){var nextCartItems=state.cart.filter(function(cartItem){return cartItem.id!==action.payload.id;});state.cart=nextCartItems;},AddWishlist:function AddWishlist(state,action){var val=state.wish.findIndex(function(item){return item.id===action.payload.id;});if(val>=0){state.wish[val].quantity+=1;}else{var temp=_objectSpread(_objectSpread({},action.payload),{},{quantity:1});state.wish.push(temp);};},removeWishlist:function removeWishlist(state,action){var nextWishItems=state.wish.filter(function(cartItem){return cartItem.id!==action.payload.id;});state.wish=nextWishItems;},decreaseCart:function decreaseCart(state,action){var itemIndex=state.cart.findIndex(function(carts){return carts.id===action.payload.id;});if(state.cart[itemIndex].quantity>1){state.cart[itemIndex].quantity-=1;}else if(state.cart[itemIndex].quantity===1){var nextCartItems=state.cart.filter(function(carts){return carts.id!==action.payload.id;});state.cart=nextCartItems;toast.success(\"Item Removed!\");}},clearCart:function clearCart(state,action){state.cart=[];state.amount=0;// toast.success(\"Cart Is Empty!\")\n},getTotals:function getTotals(state,action){var _state$cart$reduce=state.cart.reduce(function(cartTotal,carts){var price=carts.price,quantity=carts.quantity;var itemTotal=price*quantity;cartTotal.total+=itemTotal;cartTotal.totalQuantity+=quantity;return cartTotal;},{total:0,totalQuantity:0}),total=_state$cart$reduce.total,totalQuantity=_state$cart$reduce.totalQuantity;state.quantity=totalQuantity;state.amount=total;}}});var _ShoppingCart$actions=ShoppingCart.actions,AddCart=_ShoppingCart$actions.AddCart,removeCart=_ShoppingCart$actions.removeCart,AddWishlist=_ShoppingCart$actions.AddWishlist,removeWishlist=_ShoppingCart$actions.removeWishlist,decreaseCart=_ShoppingCart$actions.decreaseCart,clearCart=_ShoppingCart$actions.clearCart,getTotals=_ShoppingCart$actions.getTotals;export{AddCart,removeCart,AddWishlist,removeWishlist,decreaseCart,clearCart,getTotals};export default ShoppingCart.reducer;","map":{"version":3,"names":["createSlice","toast","initialState","cart","wish","cartItems","quantity","amount","ShoppingCart","name","reducers","AddCart","state","action","find","findIndex","item","id","payload","tempvar","_objectSpread","push","removeCart","nextCartItems","filter","cartItem","AddWishlist","val","temp","removeWishlist","nextWishItems","decreaseCart","itemIndex","carts","success","clearCart","getTotals","_state$cart$reduce","reduce","cartTotal","price","itemTotal","total","totalQuantity","_ShoppingCart$actions","actions","reducer"],"sources":["C:/Users/Unmesh/Desktop/Github_project/Zomato-Clone-master/Zomato-Clone-master/src/components/redux/ShoppingCart.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-hot-toast\";\n\nconst initialState = {\n    cart: [],\n    wish: [],\n    cartItems: [],\n    quantity: 0,\n    amount: 0,\n}\n\nconst ShoppingCart = createSlice({\n    name: \"user\",\n    initialState,\n    reducers:{\n        AddCart: (state, action) =>{\n            const find = state.cart.findIndex((item)=> item.id === action.payload.id);\n            if(find >= 0){\n                state.cart[find].quantity+=1;\n            }else{\n                const tempvar = {...action.payload, quantity:1}\n                state.cart.push(tempvar);\n            };\n        },\n        removeCart(state, action){\n           const nextCartItems =  state.cart.filter(\n                (cartItem) => cartItem.id !== action.payload.id\n            );\n            state.cart = nextCartItems;\n        },\n        AddWishlist: (state, action) =>{\n            const val = state.wish.findIndex((item)=> item.id === action.payload.id);\n            if(val >= 0){\n                state.wish[val].quantity+=1;\n            }else{\n                const temp = {...action.payload, quantity:1}\n                state.wish.push(temp);\n            };\n        },\n        removeWishlist(state, action){\n            const nextWishItems =  state.wish.filter(\n                 (cartItem) => cartItem.id !== action.payload.id\n             );\n             state.wish = nextWishItems;\n        },\n        decreaseCart(state, action){\n            const itemIndex = state.cart.findIndex(\n                carts => carts.id === action.payload.id\n            )\n            if(state.cart[itemIndex].quantity > 1){\n                state.cart[itemIndex].quantity -= 1\n            }else if(state.cart[itemIndex].quantity === 1){\n                const nextCartItems =  state.cart.filter(\n                    (carts) => carts.id !== action.payload.id\n                );\n                state.cart = nextCartItems;\n                toast.success(\"Item Removed!\")\n            }\n        },\n        clearCart(state, action){\n            state.cart = []\n            state.amount = 0;\n            // toast.success(\"Cart Is Empty!\")\n        },\n        getTotals(state, action){\n            let { total, totalQuantity } = state.cart.reduce(\n                (cartTotal, carts) => {\n                    const { price, quantity } = carts;\n                    const itemTotal = price * quantity;\n\n                    cartTotal.total += itemTotal;\n                    cartTotal.totalQuantity += quantity;\n\n                    return cartTotal;\n                },\n                {\n                    total: 0,\n                    totalQuantity: 0,\n                }\n            );\n\n            state.quantity = totalQuantity;\n            state.amount = total;\n        }\n    }\n})\n\nexport const  {AddCart, removeCart, AddWishlist, removeWishlist, decreaseCart, clearCart, getTotals} = ShoppingCart.actions;\nexport default ShoppingCart.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}